<template>
  <div id="myChart" :style="{width, height,marginTop}"></div>
</template>

<script>
import echarts from "echarts";
export default {
  props: ["width", "height", "marginTop"],
  data() {
    return {};
  },
  mounted() {
    var myChart = echarts.init(document.getElementById("myChart"));

    var dateList = [
      ["2017-1-1", "30", "2"],
      ["2017-1-2", "30", "2"],
      ["2017-1-3", "30", "2"],
      ["2017-1-4", "30", "2"],
      ["2017-1-5", "30", "2"],
      ["2017-1-6", "30", "2"],
      ["2017-1-7", "30", "2"],
      ["2017-1-8", "30", "2"],
      ["2017-1-9", "30", "2"],
      ["2017-1-10", "30", "2"],
      ["2017-1-11", "30", "2"],
      ["2017-1-12", "30", "2"],
      ["2017-1-13", "30", "2"],
      ["2017-1-14", "30", "2"],
      ["2017-1-15", "30", "2"],
      ["2017-1-16", "30", "2"],
      ["2017-1-17", "30", "2"],
      ["2017-1-18", "30"],
      "2",
      ["2017-1-19", "30", "2"],
      ["2017-1-20", "30", "2"],
      ["2017-1-21", "30", "2"],
      ["2017-1-22", "30", "2"],
      ["2017-1-23", "30", "2"],
      ["2017-1-24", "30", "2"],
      ["2017-1-25", "30", "2"],
      ["2017-1-26", "30", "2"],
      ["2017-1-27", "30", "2"],
      ["2017-1-28", "30", "2"],
      ["2017-1-29", "30", "2"],
      ["2017-1-30", "30", "2"],
      ["2017-1-31", "30", "2"],
      ["2017-2-1", "30", "2"],
      ["2017-2-2", "30", "2"],
      ["2017-2-3", "30", "2"],
      ["2017-2-4", "30", "2"],
      ["2017-2-5", "30", "2"],
      ["2017-2-6", "30", "2"],
      ["2017-2-7", "30", "2"],
      ["2017-2-8", "30", "2"],
      ["2017-2-9", "30", "2"],
      ["2017-2-10", "30", "2"],
      ["2017-2-11", "30", "2"],
      ["2017-2-12", "30", "2"],
      ["2017-2-13", "30", "2"],
      ["2017-2-14", "30", "2"],
      ["2017-2-15", "30", "2"],
      ["2017-2-16", "30", "2"],
      ["2017-2-17", "30", "2"],
      ["2017-2-18", "30", "2"],
      ["2017-2-19", "30", "2"],
      ["2017-2-20", "30", "2"],
      ["2017-2-21", "30", "2"],
      ["2017-2-22", "30", "2"],
      ["2017-2-23", "30", "2"],
      ["2017-2-24", "30", "2"],
      ["2017-2-25", "30", "2"],
      ["2017-2-26", "30", "2"],
      ["2017-2-27", "30", "2"],
      ["2017-2-28", "30", "2"],
      ["2017-3-1", "30", "2"],
      ["2017-3-2", "30", "2"],
      ["2017-3-3", "30", "2"],
      ["2017-3-4", "30", "2"],
      ["2017-3-5", "30", "2"],
      ["2017-3-6", "30", "2"],
      ["2017-3-7", "30", "2"],
      ["2017-3-8", "30", "2"],
      ["2017-3-9", "30", "2"],
      ["2017-3-10", "30", "2"],
      ["2017-3-11", "30", "2"],
      ["2017-3-12", "30", "2"],
      ["2017-3-13", "30", "2"],
      ["2017-3-14", "30", "2"],
      ["2017-3-15", "30", "2"],
      ["2017-3-16", "30", "2"],
      ["2017-3-17", "30", "2"],
      ["2017-3-18", "30", "2"],
      ["2017-3-19", "30", "2"],
      ["2017-3-20", "30", "2"],
      ["2017-3-21", "30", "2"],
      ["2017-3-22", "30", "2"],
      ["2017-3-23", "30", "2"],
      ["2017-3-24", "30", "2"],
      ["2017-3-25", "30", "2"],
      ["2017-3-26", "30", "2"],
      ["2017-3-27", "30", "2"],
      ["2017-3-28", "30", "2"],
      ["2017-3-29", "30", "2"],
      ["2017-3-30", "30", "2"],
      ["2017-3-31", "30", "2"],
      ["2017-4-1", "30", "2"],
      ["2017-4-2", "30", "2"],
      ["2017-4-3", "30", "2"],
      ["2017-4-4", "30", "2"],
      ["2017-4-5", "30", "2"],
      ["2017-4-6", "30", "2"],
      ["2017-4-7", "30", "2"],
      ["2017-4-8", "30", "2"],
      ["2017-4-9", "30", "2"],
      ["2017-4-10", "30", "2"],
      ["2017-4-11", "30", "2"],
      ["2017-4-12", "30", "2"],
      ["2017-4-13", "30", "2"],
      ["2017-4-14", "30", "2"],
      ["2017-4-15", "30", "2"],
      ["2017-4-16", "30", "2"],
      ["2017-4-17", "30", "2"],
      ["2017-4-18", "30", "2"],
      ["2017-4-19", "30", "2"],
      ["2017-4-20", "30", "2"],
      ["2017-4-21", "30", "2"],
      ["2017-4-22", "30", "2"],
      ["2017-4-23", "30", "2"],
      ["2017-4-24", "30", "2"],
      ["2017-4-25", "30", "2"],
      ["2017-4-26", "30", "2"],
      ["2017-4-27", "30", "2"],
      ["2017-4-28", "30", "2"],
      ["2017-4-29", "30", "2"],
      ["2017-4-30", "30", "2"],
      ["2017-5-1", "30", "2"],
      ["2017-5-2", "30", "2"],
      ["2017-5-3", "30", "2"],
      ["2017-5-4", "30", "2"],
      ["2017-5-5", "30", "2"],
      ["2017-5-6", "30", "2"],
      ["2017-5-7", "30", "2"],
      ["2017-5-8", "30", "2"],
      ["2017-5-9", "30", "2"],
      ["2017-5-10", "30", "2"],
      ["2017-5-11", "30", "2"],
      ["2017-5-12", "30", "2"],
      ["2017-5-13", "30", "2"],
      ["2017-5-14", "30", "2"],
      ["2017-5-15", "30", "2"],
      ["2017-5-16", "30", "2"],
      ["2017-5-17", "30", "2"],
      ["2017-5-18", "30", "2"],
      ["2017-5-19", "30", "2"],
      ["2017-5-20", "30", "2"],
      ["2017-5-21", "30", "2"],
      ["2017-5-22", "30", "2"],
      ["2017-5-23", "30", "2"],
      ["2017-5-24", "30", "2"],
      ["2017-5-25", "30", "2"],
      ["2017-5-26", "30", "2"],
      ["2017-5-27", "30", "2"],
      ["2017-5-28", "30", "2"],
      ["2017-5-29", "30", "2"],
      ["2017-5-30", "30", "2"],
      ["2017-5-31", "30", "2"],
      ["2017-6-1", "30", "2"],
      ["2017-6-2", "30", "2"],
      ["2017-6-3", "30", "2"],
      ["2017-6-4", "30", "2"],
      ["2017-6-5", "30", "2"],
      ["2017-6-6", "30", "2"],
      ["2017-6-7", "30", "2"],
      ["2017-6-8", "30", "2"],
      ["2017-6-9", "30", "2"],
      ["2017-6-10", "30", "2"],
      ["2017-6-11", "30", "2"],
      ["2017-6-12", "30", "2"],
      ["2017-6-13", "30", "2"],
      ["2017-6-14", "30", "2"],
      ["2017-6-15", "30", "2"],
      ["2017-6-16", "30", "2"],
      ["2017-6-17", "30", "2"],
      ["2017-6-18", "30", "2"],
      ["2017-6-19", "30", "2"],
      ["2017-6-20", "30", "2"],
      ["2017-6-21", "30", "2"],
      ["2017-6-22", "30", "2"],
      ["2017-7-1", "30", "2"],
      ["2017-7-2", "30", "2"],
      ["2017-7-3", "30", "2"],
      ["2017-7-4", "30", "2"],
      ["2017-7-5", "30", "2"],
      ["2017-7-6", "30", "2"],
      ["2017-7-7", "30", "2"],
      ["2017-7-8", "30", "2"],
      ["2017-7-9", "30", "2"],
      ["2017-7-10", "30", "2"],
      ["2017-7-11", "30", "2"],
      ["2017-7-12", "30", "2"],
      ["2017-7-13", "30", "2"],
      ["2017-7-14", "30", "2"],
      ["2017-7-15", "30", "2"],
      ["2017-7-16", "30", "2"],
      ["2017-7-17", "30", "2"],
      ["2017-7-18", "30", "2"],
      ["2017-7-19", "30", "2"],
      ["2017-7-20", "30", "2"],
      ["2017-7-21", "30", "2"],
      ["2017-7-22", "30", "2"],
      ["2017-7-23", "30", "2"],
      ["2017-7-24", "30", "2"],
      ["2017-7-25", "30", "2"],
      ["2017-7-26", "30", "2"],
      ["2017-7-27", "30", "2"],
      ["2017-7-28", "30", "2"],
      ["2017-7-29", "30", "2"],
      ["2017-7-30", "30", "2"],
      ["2017-7-31", "30", "2"],
      ["2017-8-1", "30", "2"],
      ["2017-8-2", "30", "2"],
      ["2017-8-3", "30", "2"],
      ["2017-8-4", "30", "2"],
      ["2017-8-7", "30", , "2"],
      ["2017-8-8", "30", "2"],
      ["2017-8-9", "30", "2"],
      ["2017-8-10", "30", "2"],
      ["2017-8-11", "30", "2"],
      ["2017-8-12", "30", "2"],
      ["2017-8-13", "30", "2"],
      ["2017-8-14", "30", "2"],
      ["2017-8-15", "30", "2"],
      ["2017-8-16", "30", "2"],
      ["2017-8-17", "30", "2"],
      ["2017-8-18", "30", "2"],
      ["2017-8-19", "30", "2"],
      ["2017-8-20", "30", "2"],
      ["2017-8-21", "30", "2"],
      ["2017-8-22", "30", "2"],
      ["2017-8-23", "30", "2"],
      ["2017-8-24", "30", "2"],
      ["2017-8-25", "30", "2"],
      ["2017-8-26", "30", "2"],
      ["2017-8-27", "30", "2"],
      ["2017-8-28", "30", "2"],
      ["2017-8-29", "30", "2"],
      ["2017-8-30", "30", "2"],
      ["2017-8-31", "30", "2"],
      ["2017-9-1", "30", "2"],
      ["2017-9-2", "30", "2"],
      ["2017-9-3", "30", "2"],
      ["2017-9-4", "30", "2"],
      ["2017-9-5", "30", "2"],
      ["2017-9-6", "30", "2"],
      ["2017-9-7", "30", "2"],
      ["2017-9-8", "30", "2"],
      ["2017-9-9", "30", "2"],
      ["2017-9-10", "30", "2"],
      ["2017-9-11", "30", "2"],
      ["2017-9-12", "30", "2"],
      ["2017-9-13", "30", "2"],
      ["2017-9-14", "30", "2"],
      ["2017-9-15", "30", "2"],
      ["2017-9-16", "30", "2"],
      ["2017-9-17", "30", "2"],
      ["2017-9-18", "30", "2"],
      ["2017-9-19", "30", "2"],
      ["2017-9-20", "30", "2"],
      ["2017-9-21", "30", "2"],
      ["2017-9-22", "30", "2"],
      ["2017-9-23", "30", "2"],
      ["2017-9-24", "30", "2"],
      ["2017-9-25", "30", "2"],
      ["2017-9-26", "30", "2"],
      ["2017-9-27", "30", "2"],
      ["2017-9-28", "30", "2"],
      ["2017-9-29", "30", "2"],
      ["2017-9-30", "30", "2"],
      ["2017-10-1", "30", "2"],
      ["2017-10-2", "30", "2"],
      ["2017-10-3", "30", "2"],
      ["2017-10-4", "30", "2"],
      ["2017-10-5", "30", "2"],
      ["2017-10-6", "30", "2"],
      ["2017-10-7", "30", "2"],
      ["2017-10-8", "30", "2"],
      ["2017-10-9", "30", "2"],
      ["2017-10-10", "30", "2"],
      ["2017-10-11", "30", "2"],
      ["2017-10-12", "30", "2"],
      ["2017-10-13", "30", "2"],
      ["2017-10-14", "30", "2"],
      ["2017-10-15", "30", "2"],
      ["2017-10-16", "30", "2"],
      ["2017-10-17", "30", "2"],
      ["2017-10-18", "30", "2"],
      ["2017-10-19", "30", "2"],
      ["2017-10-20", "30", "2"],
      ["2017-10-21", "30", "2"],
      ["2017-10-22", "30", "2"],
      ["2017-10-23", "30", "2"],
      ["2017-10-24", "30", "2"],
      ["2017-10-25", "30", "2"],
      ["2017-10-26", "30", "2"],
      ["2017-10-27", "30", "2"],
      ["2017-10-28", "30", "2"],
      ["2017-10-29", "30", "2"],
      ["2017-10-30", "30", "2"],
      ["2017-10-31", "30", "2"],
      ["2017-11-1", "30", "2"],
      ["2017-11-2", "30", "2"],
      ["2017-11-3", "30", "2"],
      ["2017-11-4", "30", "2"],
      ["2017-11-5", "30", "2"],
      ["2017-11-6", "30", "2"],
      ["2017-11-7", "30", "2"],
      ["2017-11-8", "30", "2"],
      ["2017-11-9", "30", "2"],
      ["2017-11-10", "30", "2"],
      ["2017-11-11", "30", "2"],
      ["2017-11-12", "30", "2"],
      ["2017-11-13", "30", "2"],
      ["2017-11-14", "30", "2"],
      ["2017-11-15", "30", "2"],
      ["2017-11-16", "30", "2"],
      ["2017-11-17", "30", "2"],
      ["2017-11-18", "30", "2"],
      ["2017-11-19", "30", "2"],
      ["2017-11-20", "30", "2"],
      ["2017-11-21", "30", "2"],
      ["2017-11-22", "30", "2"],
      ["2017-11-23", "30", "2"],
      ["2017-11-24", "30", "2"],
      ["2017-11-25", "30", "2"],
      ["2017-11-26", "30", "2"],
      ["2017-11-27", "30", "2"],
      ["2017-11-28", "30", "2"],
      ["2017-11-29", "30", "2"],
      ["2017-11-30", "30", "2"],
      ["2017-12-1", "30", "2"],
      ["2017-12-2", "30", "2"],
      ["2017-12-3", "30", "2"],
      ["2017-12-4", "30", "2"],
      ["2017-12-5", "30", "2"],
      ["2017-12-6", "30", "2"],
      ["2017-12-7", "30", "2"],
      ["2017-12-8", "30", "2"],
      ["2017-12-9", "30", "2"],
      ["2017-12-10", "30", "2"],
      ["2017-12-11", "30", "2"],
      ["2017-12-12", "30", "2"],
      ["2017-12-13", "30", "2"],
      ["2017-12-14", "30", "2"],
      ["2017-12-15", "30", "2"],
      ["2017-12-16", "30", "2"],
      ["2017-12-17", "30", "2"],
      ["2017-12-18", "30", "2"],
      ["2017-12-19", "30", "2"],
      ["2017-12-20", "30", "2"],
      ["2017-12-21", "30", "2"],
      ["2017-12-22", "30", "2"],
      ["2017-12-23", "30", "2"],
      ["2017-12-24", "30", "2"],
      ["2017-12-25", "30", "2"],
      ["2017-12-26", "30", "2"],
      ["2017-12-27", "30", "2"],
      ["2017-12-28", "30", "2"],
      ["2017-12-29", "30", "2"],
      ["2017-12-30", "30", "2"],
      ["2017-12-31", "30", "2"]
    ];

    var heatmapData = [];
    var lunarData = [];
    for (var i = 0; i < dateList.length; i++) {
      heatmapData.push([dateList[i][0], Math.random() * 300]);
      lunarData.push([dateList[i][0], 1, dateList[i][1], dateList[i][2]]);
    }

    var option = {
      tooltip: {
        formatter: function(params) {
          return (
            "<p>2019-11-08</p><br/>" +
            "装机量: " +
            params.value[1].toFixed(2) +
            "<p>呷脯呷脯-双井店 数量：3</p>" +
            "<p>呷脯呷脯-双井店 数量：3</p><br/>" +
            "拆机量: " +
            params.value[1].toFixed(2) +
            "<p>吉野家-中关村店 数量：3</p>" +
            "<p>吉野家-中关村店 数量：3</p>"
          );
        }
      },

      visualMap: {
        show: false,
        min: 0,
        max: 300,
        calculable: true,
        seriesIndex: [2],
        orient: "horizontal",
        left: "center",
        bottom: 20,
        inRange: {
          color: ["#006edd"],
          opacity: 0.3
        },
        controller: {
          inRange: {
            opacity: 0.5
          }
        }
      },

      calendar: [
        {
          left: "center",
          top: "middle",
          cellSize: [70, 62],
          yearLabel: { show: false },
          orient: "vertical",
          dayLabel: {
            firstDay: 1,
            nameMap: "cn"
          },
          monthLabel: {
            show: false
          },
          range: "2017-03"
        }
      ],

      series: [
        {
          type: "scatter",
          coordinateSystem: "calendar",
          symbolSize: 1,
          label: {
            normal: {
              show: true,
              formatter: function(params) {
                var d = echarts.number.parseDate(params.value[0]);
                return d.getDate() + "\n\n" + params.value[2] + "\n\n";
              },
              textStyle: {
                color: "#000"
              }
            }
          },
          data: lunarData
        },
        {
          type: "scatter",
          coordinateSystem: "calendar",
          symbolSize: 1,
          label: {
            normal: {
              show: true,
              formatter: function(params) {
                return "\n\n\n" + (params.value[3] || "");
              },
              textStyle: {
                fontSize: 14,
                fontWeight: 700,
                color: "#a00"
              }
            }
          },
          data: lunarData
        },
        {
          name: "装机量",
          type: "heatmap",
          coordinateSystem: "calendar",
          data: heatmapData
        }
      ]
    };
    myChart.setOption(option);
  }
};
</script>

<style>
</style>